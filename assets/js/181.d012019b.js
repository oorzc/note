(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{839:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"lnmp一键安装环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lnmp一键安装环境"}},[t._v("#")]),t._v(" lnmp一键安装环境")]),t._v(" "),a("blockquote",[a("p",[t._v("https://lnmp.org/install.html\nlnmp restart\nLNMP 状态管理: lnmp {start|stop|reload|restart|kill|status}\nNginx状态管理：/etc/init.d/nginx {start|stop|reload|restart}\nMySQL状态管理：/etc/init.d/mysql {start|stop|restart|reload|force-reload|status}\nMemcached状态管理：/etc/init.d/memcached {start|stop|restart}\nPHP-FPM状态管理：/etc/init.d/php-fpm {start|stop|quit|restart|reload|logrotate}\nPureFTPd状态管理： /etc/init.d/pureftpd {start|stop|restart|kill|status}\nProFTPd状态管理： /etc/init.d/proftpd {start|stop|restart|reload}\nRedis状态管理： /etc/init.d/redis {start|stop|restart|kill}")])]),t._v(" "),a("h2",{attrs:{id:"修改php-cli版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改php-cli版本"}},[t._v("#")]),t._v(" 修改php-cli版本")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("ln -s /usr/local/php/bin/php /usr/local/bin/php\n/usr/local/bin/php 如果该指向已存在 删除即可\n")])])]),a("h2",{attrs:{id:"链接不了服务器数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#链接不了服务器数据库"}},[t._v("#")]),t._v(" 链接不了服务器数据库")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("查看已有的iptables规则，以序号显示\niptables -L -n --line-numbers\n删除对应的DROP规则\niptables -D INPUT 5\n")])])]),a("h2",{attrs:{id:"ssh登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh登录"}},[t._v("#")]),t._v(" ssh登录")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("重新安装服务器后\n报错Add correct host key in /c/Users/lenovo/.ssh/known_hosts to get rid of this message.\n删掉ECDSA host key for 120.78.219.51 has changed and you have requested strict checking.这行\nvi /c/Users/lenovo/.ssh/known_hosts\n\nssh-keygen -t rsa // 本地 和 服务器 执行该命令一直回车生成公匙\n\nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.  //生成公匙地址\n\n//本地进入ssh目录 如C:\\Users\\Administrator\\.ssh  执行下面 将公钥文件传输的远程机器，并生效\nssh-copy-id -i ./id_rsa.pub root@120.78.219.51\n\n链接服务器免密\nssh root@xx.xx.xx.xx\n退出\nlogout\n\n免密码登录的处理是用户对用户的，切换其他用户后，仍然需要输入密码\n公钥传到远程机器并生效的操作，可用其他方式实现，如scp后修改authorized_keys\n远程机器的.ssh目录需要700权限，authorized_keys文件需要600权限\n")])])]),a("h2",{attrs:{id:"mysql远程登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql远程登录"}},[t._v("#")]),t._v(" mysql远程登录")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("修改阿里云远程策略组 端口开放3306\nmysql -uroot -p\n输入密码\nuse mysql\nGRANT ALL PRIVILEGES ON *.* TO 'root'@'%'WITH GRANT OPTION;\nFLUSH PRIVILEGES;\nexit;\n重启服务器 reboot\n")])])]),a("h2",{attrs:{id:"添加网站-虚拟主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加网站-虚拟主机"}},[t._v("#")]),t._v(" 添加网站(虚拟主机)")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("lnmp vhost add\nlnmp vhost {add|list|del}\n\n/usr/local/nginx/conf\nnginx.conf 添加网站\n")])])]),a("h2",{attrs:{id:"https-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https-ssl"}},[t._v("#")]),t._v(" Https(ssl)")]),t._v(" "),a("blockquote",[a("p",[t._v("https://lnmp.org/faq/letsencrypt-wildcard-ssl.html")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("先删除过期ssh\nlnmp vhost del\nlnmp dnsssl ali\n")])])]),a("h2",{attrs:{id:"ftp-管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ftp-管理"}},[t._v("#")]),t._v(" ftp 管理")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("需要安装 cd lnmp1.5\n执行 ./pureftpd.sh\nlnmp ftp add\nlnmp ftp {add|list|del|edit}\n[root@username lnmp1.4]# lnmp ftp add\n\nEnter ftp account name: username\nEnter password for ftp account username: ***\nEnter directory for ftp account username: /home/wwwroot/my\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);