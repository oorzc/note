(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{799:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("转摘："),a("a",{attrs:{href:"https://segmentfault.com/a/1190000021385669",target:"_blank",rel:"noopener noreferrer"}},[t._v("探索CSS单行文字居中，多行文字居左的实现方式"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("需求如下：")]),t._v(" "),a("blockquote",[a("p",[t._v("有一段动态文字，在页面操作时可能会被修改。如果其为多行，则需要靠左对齐；如果是单行，则居中对齐。")])]),t._v(" "),a("p",[t._v("这个功能利用 JavaScript 来判断文字段落的高度添加相关的 CSS 类或样式是可以实现。但是由于文字内容是动态变化的，那么每次变化都需要调用 JavaScript 来更改，相对来说比较麻烦。如果考虑使用纯 CSS 来自动实现，那么效果会好很多，而且可以简化 JavaScript 的代码逻辑。")]),t._v(" "),a("p",[t._v("使用 CSS 方法有如下几种方式，兼容性各有不同，但使用的都是类似的思想：")]),t._v(" "),a("h3",{attrs:{id:"_1-first-line-伪类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-first-line-伪类"}},[t._v("#")]),t._v(" 1. first-line 伪类")]),t._v(" "),a("p",[t._v("默认情况下，文本是靠左对其的(除非有特别的定义文本方向)。当文本居中展示时，当其内容达到甚至超过一行时，第一行的展示效果其实是和居左对其是相同的了(因为第一行会填满整个容器盒子)。所以相当于只需要控制段落的第一行为居中展示即可。这可以使用"),a("code",[t._v("::first-line")]),t._v("伪类来实现：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p::first-line")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("效果如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cnd.qiniu.lin07ux.cn/markdown/YRFZZnz.gif",alt:""}})]),t._v(" "),a("p",[t._v("可以看到，这样设置还是有点小瑕疵的：当第一行铺满时，由于其仍旧是居中效果的，所以和下面的居左展示的行有一点没有对齐。这是由于一行的剩余空间不足一个字符的宽度时，该字符就会自动到下一行了，从而使得第一行的空白空间稍大一点。")]),t._v(" "),a("p",[t._v("解决方式也很简单，就是借用 CSS 中的"),a("code",[t._v("text-align-last")]),t._v("属性。该属性是用来设置文本段落最后一行的布局方式的。如果在"),a("code",[t._v("::first-line")]),t._v("伪类中使用"),a("code",[t._v("text-align-last")]),t._v("，那么就表示：既是首行、也是最后一行的内容设置为居中展示。也就是说，该设置将仅在段落只有一行时生效：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-center")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p::first-line")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align-last")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("效果如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cnd.qiniu.lin07ux.cn/markdown/3QBjErR.gif",alt:""}})]),t._v(" "),a("p",[t._v("遗憾的是，"),a("code",[t._v("::first-line")]),t._v("("),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/::first-line",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),a("OutboundLink")],1),t._v(")伪类支持的样式非常有限("),a("code",[t._v("text-align")]),t._v("相关属性不在其中)，上述实现方式仅在 Chrome 浏览器中生效：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cnd.qiniu.lin07ux.cn/markdown/1577266255405.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"_2-父级居中-子级居左"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-父级居中-子级居左"}},[t._v("#")]),t._v(" 2. 父级居中 + 子级居左")]),t._v(" "),a("p",[t._v("默认情况下，内联元素的宽度是其实际内容的宽度，而且会随着内容的增加而增加，最大可以达到父级元素的宽度，也就是“包裹性”。同时，内联元素在父元素中的布局方式是由父元素的 CSS 来决定的。")]),t._v(" "),a("p",[t._v("利用这个特性，可以将一个"),a("code",[t._v("inline-block")]),t._v("子元素放在一个"),a("code",[t._v("block")]),t._v("父元素中，并设置分别父元素和子元素的布局方式：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("这段文字能不能这样判断一下，当文字不足一行时，让它居中显示，当文字超过一行就让它居左"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".content")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".text")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inline-block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("这样设置之后，里面的文本的展示效果按照如下规则来决定：")]),t._v(" "),a("ul",[a("li",[t._v("当文本较少时，"),a("code",[t._v(".text")]),t._v("的宽度跟随文本，此时"),a("code",[t._v(".text")]),t._v("元素整体会受父级元素的"),a("code",[t._v("text-align: center")]),t._v("影响而在父元素中居中展示，其自身设置的"),a("code",[t._v("text-align: left")]),t._v("无法表现出明显的效果；")]),t._v(" "),a("li",[t._v("当文本较多时，"),a("code",[t._v(".text")]),t._v("的宽度会达到父级元素的宽度，虽然父级元素设置了"),a("code",[t._v("text-align: center")]),t._v("，但"),a("code",[t._v(".text")]),t._v("元素整体已经无法表现出明显的居中效果了，而是和居左展示相同了。同时，设置"),a("code",[t._v(".text")]),t._v("元素的"),a("code",[t._v("text-align: left")]),t._v("可以让"),a("code",[t._v(".text")]),t._v("元素中的内容靠左展示。")])]),t._v(" "),a("p",[t._v("这种方式兼容性非常好，浏览器都支持，只是这样会多了一层 HTML。")]),t._v(" "),a("h3",{attrs:{id:"_3-width-fit-content-margin-auto"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-width-fit-content-margin-auto"}},[t._v("#")]),t._v(" 3. "),a("code",[t._v("width: fit-content")]),t._v(" + "),a("code",[t._v("margin: auto")])]),t._v(" "),a("p",[t._v("如果能够将一个"),a("code",[t._v("block")]),t._v("元素的宽度跟随其实际内容，那么可以通过设置"),a("code",[t._v("margin: 0 auto")]),t._v("使得该元素在单行时居中、多行时居左。")]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("width: fit-content")]),t._v("可以实现元素收缩效果的同时，保持原本的"),a("code",[t._v("block")]),t._v("状态：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -moz-fit-content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" //火狐需要 -moz- 前缀\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fit-content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("这样能够很好的实现需求，只是"),a("code",[t._v("fit-content")]),t._v("属性值支持性不是很好，在 IE 上不支持。")]),t._v(" "),a("h3",{attrs:{id:"_4-display-table-margin-0-auto"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-display-table-margin-0-auto"}},[t._v("#")]),t._v(" 4. "),a("code",[t._v("display: table")]),t._v(" + "),a("code",[t._v("margin: 0 auto")])]),t._v(" "),a("p",[t._v("虽然"),a("code",[t._v("fit-content")]),t._v("属性值在浏览器中的支持性不是很好，但是"),a("code",[t._v("display")]),t._v("属性的"),a("code",[t._v("table")]),t._v("值也具有相同的效果：既支持宽度跟随内部元素，又支持水平方向上 margin 居中：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("效果如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://cnd.qiniu.lin07ux.cn/markdown/InEjQbB.gif",alt:""}})]),t._v(" "),a("p",[t._v("这种方式的兼容性是非常好的，基本浏览器都支持。")]),t._v(" "),a("h3",{attrs:{id:"_5-flex和grid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-flex和grid"}},[t._v("#")]),t._v(" 5. "),a("code",[t._v("flex")]),t._v("和"),a("code",[t._v("grid")])]),t._v(" "),a("p",[t._v("对于最新推出的"),a("code",[t._v("flex")]),t._v("和"),a("code",[t._v("grid")]),t._v("布局来说，这种实现方式是很简单的。")]),t._v(" "),a("p",[t._v("在 flex 容器中，所有子项成为弹性项，包括纯文本节点(匿名盒子)，就好像包裹了一层，所以很容易通过"),a("code",[t._v("justify-content: center")]),t._v("实现居中，同时(匿名盒子)也跟随文本自适应宽度，当超过一行时，就按照默认的文本对齐方式。")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("justify-content")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("grid 布局同理，只不过对齐方式需要通过"),a("code",[t._v("justify-items: center")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" grid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("justify-items")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("相对于"),a("code",[t._v("flex")]),t._v("，"),a("code",[t._v("grid")]),t._v("的兼容性要差一些，所以尽量选取"),a("code",[t._v("flex")]),t._v("方式，至少移动端和 IE10(需要"),a("code",[t._v("-ms-")]),t._v(")是没问题的")])])}),[],!1,null,null,null);s.default=e.exports}}]);