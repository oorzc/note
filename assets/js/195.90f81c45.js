(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{797:function(v,_,n){"use strict";n.r(_);var r=n(5),b=Object(r.a)({},(function(){var v=this,_=v.$createElement,n=v._self._c||_;return n("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[n("h2",{attrs:{id:"mysql索引的基础和类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql索引的基础和类型"}},[v._v("#")]),v._v(" MySQL索引的基础和类型")]),v._v(" "),n("p",[v._v("索引的基础"),n("br"),v._v("\n猴引类似于书籍的目录，要想找到一本书的某个特定主题，需要先"),n("br"),v._v("\n童找书的目录，定位对应的页码"),n("br"),v._v("\n存储引擎使用类似的方式进行数据查询，先去索引当中找到对应的")]),v._v(" "),n("p",[v._v("索引对性能的影响"),n("br"),v._v("\n大大减少服务器需要扫描的数据量"),n("br"),v._v("\n帮助服务器避免排序和临时表"),n("br"),v._v("\n将随机I/O变顺序I/O"),n("br"),v._v("\n大大提高查询速度，降低写的速度、占用磁盘")]),v._v(" "),n("p",[v._v("索引的使用场景"),n("br"),v._v("\n对于非常小的表，大部分情况下全表扫描效率更高"),n("br"),v._v("\n中到大型表，索引非常有效"),n("br"),v._v("\n特大型的表，建立和使用索引的代价将随之增长，可以使用分区技"),n("br"),v._v("\n术来解决")]),v._v(" "),n("p",[v._v("索引的类型"),n("br"),v._v("\n索引有很多种类型，都是实现在存储引擎层的"),n("br"),v._v("\n普通索引：最基本的索引，没有任何约束限制"),n("br"),v._v("\n唯一索引：与普通索引类似，但是具有唯一性约束"),n("br"),v._v("\n主键索引：特殊的唯一索引，不允许有空值")]),v._v(" "),n("p",[v._v("一个表只能有一个主键索引，可以有多个唯一索引"),n("br"),v._v("\n主键索引一定是唯一索引，唯一索引不是主键索引"),n("br"),v._v("\n主键可以与外键构成参照完整性约束，防止数据不一致")]),v._v(" "),n("p",[v._v("索引有很多种类型，都是实现在存储引擎层的"),n("br"),v._v("\n普通索引：最基本的索引，没有任何约束限制"),n("br"),v._v("\n唯一索引：与普通索引类似，但是具有唯一性约束"),n("br"),v._v("\n主键索引：特殊的唯一索引，不允许有空值")]),v._v(" "),n("p",[v._v("一个表只能有一个主键索引，可以有多个唯一索引"),n("br"),v._v("\n主键索引一定是唯一索引，唯一索引不是主键索引"),n("br"),v._v("\n主键可以与外键构成参照完整性约束，防止数据不一致")]),v._v(" "),n("p",[v._v("组合索引：将多个列组合在一起创建索引，可以覆盖多个列"),n("br"),v._v("\n外键索引：只有InnoDB类型的表才可以使用外键索引，保证数据"),n("br"),v._v("\n的一致性、完整性和实现级联操作"),n("br"),v._v("\n全文索引：MySQL自带的全文索引只能用于MyISAM，并且只能"),n("br"),v._v("\n对英文进行全文检索")]),v._v(" "),n("p",[v._v("MySQL索引的创建原则"),n("br"),v._v("\n原则"),n("br"),v._v("\n1.最适合索引的列是出现在WHERE子句中的列，或连接子句中的"),n("br"),v._v("\n列而不是出现在SELECT关键字后的列"),n("br"),v._v("\n2.索引列的基数越大，索引的效果越好"),n("br"),v._v("\n3.对字符串进行索引，应该制定一个前缀长度，可以节省大量的索"),n("br"),v._v("\n引空间"),n("br"),v._v("\n4.根据情况创建复合索引，复合索引可以提高查询效率"),n("br"),v._v("\n5.避免创建过多索引，索引会额外占用磁盘空间，降低写操作效率"),n("br"),v._v("\n6.主键尽可能选择较短的数据类型，可以有效减少索引的磁盘占用"),n("br"),v._v("\n提高查询效率")]),v._v(" "),n("p",[v._v("MySQL索引的注意事项"),n("br"),v._v("\n注意"),n("br"),v._v("\n1.复合索引遵循前缀原则心"),n("br"),v._v("\n2.like查询，%不能在前，可以使用全文索引"),n("br"),v._v("\n3.column is null可以使用索引"),n("br"),v._v("\n4.如果MySQL估计使用索引比全表扫描更慢，会放弃使用索引"),n("br"),v._v("\n5.如果or前的条件中的列有索引，后面的没有，索引都不会被用到"),n("br"),v._v("\n6.列类型是字符串，查询时一定要给值加引号，否则索引失效")]),v._v(" "),n("p",[v._v("有A(id,sex,par,c1,c2),B(id,age,c1,c2)两张表，其中A.id与B.id"),n("br"),v._v("\n关联，现在要求写出一条SQL语句，将B中age>50的记录的c1,c2"),n("br"),v._v("\n更新到A表中统一记录中的c1,c2字段中")]),v._v(" "),n("p",[v._v("A(id,sex,par,c1,c2)"),n("br"),v._v("\nB(id,age,c1,c2)"),n("br"),v._v("\nupdate A,B set A.cl=B.c1,A.c2=B.c2"),n("br"),v._v("\nwhere A.id=B.id and B.age>50;"),n("br"),v._v("\nupdate A inner join B on A.id=B.id"),n("br"),v._v("\nset A.c1=B.c1,A.C2=B.c2"),n("br"),v._v("\nwhere B.age>50")])])}),[],!1,null,null,null);_.default=b.exports}}]);