(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{651:function(s,a,t){"use strict";t.r(a);var n=t(5),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_2020年你不能不知道的webpack基本配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2020年你不能不知道的webpack基本配置"}},[s._v("#")]),s._v(" 2020年你不能不知道的webpack基本配置")]),s._v(" "),t("p",[s._v("在很久很久以前，在我们前端还只是页面切图仔的年代，我们开发一个html页面，通常会遇到这些情况：")]),s._v(" "),t("ul",[t("li",[s._v("需要引入十几个css和js文件，而且因为他们彼此间有着依赖关系，所以引入的顺序还不能乱。")]),s._v(" "),t("li",[s._v("传统的"),t("code",[s._v("html+css+js")]),s._v("开发方式不能不能很好地运用"),t("code",[s._v("less/scss")]),s._v("等css预处理器以及"),t("code",[s._v("ES6+")]),s._v("的高级语法。")]),s._v(" "),t("li",[s._v("代码复用性差，可维护性差。")])]),s._v(" "),t("p",[s._v("此时就需要一个处理这些问题的工具，webpack应运而生。")]),s._v(" "),t("p",[s._v("webpack可以看做是模块打包工具：它将各种静态资源（比如："),t("code",[s._v("javaScript")]),s._v(" 文件，图片文件，"),t("code",[s._v("css")]),s._v("文件等）视为模块，它能够对这些模块进行解析优化和转换等操作，最后将它们打包在一起，打包后的文件可用于在浏览器中使用。")]),s._v(" "),t("h2",{attrs:{id:"webpack的优点："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack的优点："}},[s._v("#")]),s._v(" webpack的优点：")]),s._v(" "),t("ul",[t("li",[s._v("代码转换: "),t("code",[s._v("typeScript")]),s._v(" 编译成 "),t("code",[s._v("javaScript")]),s._v("、"),t("code",[s._v("scss，less")]),s._v(" 编译成 "),t("code",[s._v("css")]),s._v(".")]),s._v(" "),t("li",[s._v("文件优化：压缩 "),t("code",[s._v("javaScript")]),s._v("、"),t("code",[s._v("css")]),s._v("、"),t("code",[s._v("html")]),s._v(" 代码，压缩合并图片。")]),s._v(" "),t("li",[s._v("代码分割：提取多个页面的公共代码、提取首屏不需要执行部分的代码让其异步加载。")]),s._v(" "),t("li",[s._v("模块合并：在采用模块化的项目里会有很多个模块和文件，需要构建功能把模块分类合并成一个文件。")]),s._v(" "),t("li",[s._v("自动刷新：监听本地源代码的变化，自动重新构建、刷新浏览器。")]),s._v(" "),t("li",[s._v("扩展性强，插件机制完善。")])]),s._v(" "),t("h2",{attrs:{id:"webpack打包过程："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack打包过程："}},[s._v("#")]),s._v(" webpack打包过程：")]),s._v(" "),t("ol",[t("li",[s._v("利用babel完成代码转换,并生成单个文件的依赖")]),s._v(" "),t("li",[s._v("从入口开始递归分析，并生成依赖图谱")]),s._v(" "),t("li",[s._v("将各个引用模块打包为一个立即执行函数")]),s._v(" "),t("li",[s._v("将最终的bundle文件写入bundle.js中")])]),s._v(" "),t("h2",{attrs:{id:"webpack-的四大核心："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-的四大核心："}},[s._v("#")]),s._v(" Webpack 的四大核心：")]),s._v(" "),t("ul",[t("li",[s._v("entry：js 入口源文件")]),s._v(" "),t("li",[s._v("output：生成文件")]),s._v(" "),t("li",[s._v("loader：进行文件处理")]),s._v(" "),t("li",[s._v("plugins：插件，比 loader 更强大，能使用更多 webpack 的 api")])]),s._v(" "),t("h2",{attrs:{id:"entry"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#entry"}},[s._v("#")]),s._v(" Entry")]),s._v(" "),t("p",[s._v("webpack 应该使用哪个模块做为入口文件，来作为构建其内部依赖图的开始。进去入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的，每个依赖项随即被处理，最后输出到称之为 bundles 的文件中。")]),s._v(" "),t("p",[s._v("单⼊⼝：entry 是⼀个字符串")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("多⼊⼝：entry 是⼀个对象")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    index"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    manager"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/manager.js'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"output"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#output"}},[s._v("#")]),s._v(" Output")]),s._v(" "),t("p",[s._v("告诉 webpack 在哪里输出它所创建的 bundles，以及如何命名这些文件，这些都可以在webpack的配置文件中指定。")]),s._v(" "),t("p",[s._v("单⼊⼝配置")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    entry"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    output"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        filename"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'bundle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js’"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" __dirname "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/dist'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("多⼊⼝配置")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/app.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    search"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/search.js'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[name].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" __dirname "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/dist'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("通过[name]占位符确保⽂件名称的唯⼀")]),s._v(" "),t("h2",{attrs:{id:"loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[s._v("#")]),s._v(" Loader")]),s._v(" "),t("p",[t("code",[s._v("loader")]),s._v(" 让 "),t("code",[s._v("webpack")]),s._v(" 能够去处理那些非 "),t("code",[s._v("javaScript")]),s._v(" 文件（"),t("code",[s._v("webpack")]),s._v(" 自身只理解 "),t("code",[s._v("javaScript")]),s._v("）。"),t("code",[s._v("loader")]),s._v(" 可以将所有类型的文件转换为 "),t("code",[s._v("webpack")]),s._v(" 能够处理的有效模块，然后你就可以利用 "),t("code",[s._v("webpack")]),s._v(" 的打包能力，对它们进行处理。")]),s._v(" "),t("h2",{attrs:{id:"loader的特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loader的特点"}},[s._v("#")]),s._v(" loader的特点")]),s._v(" "),t("ul",[t("li",[s._v("一个Loader 的职责是单一的，只需要完成一种转换")]),s._v(" "),t("li",[s._v("一个Loader 其实就是一个Node.js 模块，这个模块需要导出一个函数")]),s._v(" "),t("li",[s._v("loader 总是从右到左地被调用。")])]),s._v(" "),t("h2",{attrs:{id:"常用的loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用的loader"}},[s._v("#")]),s._v(" 常用的loader")]),s._v(" "),t("h3",{attrs:{id:"处理样式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理样式"}},[s._v("#")]),s._v(" 处理样式")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("css-loader")]),s._v(": 加载.css 文件，")]),s._v(" "),t("li",[t("code",[s._v("style-loader")]),s._v(":使用 style 标签将 "),t("code",[s._v("css-loader")]),s._v(" 内部样式注入到我们的 html 页面")]),s._v(" "),t("li",[t("code",[s._v("less-loader, sass-loader")]),s._v(": 解析css预处理器")])]),s._v(" "),t("h3",{attrs:{id:"处理-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理-js"}},[s._v("#")]),s._v(" 处理 js")]),s._v(" "),t("ul",[t("li",[s._v("让你能使用最新的js代码（ES6，ES7...）")]),s._v(" "),t("li",[s._v("让你能使用基于js进行了拓展的语言，比如React的JSX；")])]),s._v(" "),t("h3",{attrs:{id:"处理文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理文件"}},[s._v("#")]),s._v(" 处理文件")]),s._v(" "),t("p",[s._v("处理图片资源时，我们常用的两种loader是"),t("code",[s._v("file-loader")]),s._v("或者"),t("code",[s._v("url-loader")]),s._v("，两者的主要差异在于。"),t("code",[s._v("url-loader")]),s._v("可以设置图片大小限制，当图片超过限制时，其表现行为等同于"),t("code",[s._v("file-loader")]),s._v("，而当图片不超过限制时，则会将图片以"),t("code",[s._v("base64")]),s._v("的形式打包进css文件，以减少请求次数")]),s._v(" "),t("h3",{attrs:{id:"处理-vue文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理-vue文件"}},[s._v("#")]),s._v(" 处理.vue文件")]),s._v(" "),t("p",[t("code",[s._v("vue-loader")]),s._v(" 是 "),t("code",[s._v("webpack")]),s._v(" 的加载器模块，它使我们可以用 "),t("code",[s._v(".vue")]),s._v(" 文件格式编写单文件组件。单文件组件文件有三个部分，即模板、脚本和样式。 "),t("code",[s._v("vue-loader")]),s._v(" 模块允许 "),t("code",[s._v("webpack")]),s._v(" 使用单独的加载器模块（例如 "),t("code",[s._v("sass 或 scss 加载器")]),s._v("）提取和处理每个部分。该设置使我们可以使用 "),t("code",[s._v(".vue")]),s._v(" 文件无缝编写程序。")]),s._v(" "),t("h2",{attrs:{id:"开发一个loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发一个loader"}},[s._v("#")]),s._v(" 开发一个loader")]),s._v(" "),t("p",[s._v("需求：手写一个 "),t("code",[s._v("loader")]),s._v("，将 "),t("code",[s._v("'kobe'")]),s._v(" 转换成 "),t("code",[s._v("'Black Mamba'")]),s._v("。当然大家可以根据自己的需求进行设计。这里只是讲解方法。")]),s._v(" "),t("h3",{attrs:{id:"_1、编写-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、编写-loader"}},[s._v("#")]),s._v(" 1、编写 loader")]),s._v(" "),t("p",[s._v("在根目录下，新建目录 "),t("code",[s._v("kobe-loader")]),s._v(" 作为我们编写 "),t("code",[s._v("loader")]),s._v(" 的名称，执行 "),t("code",[s._v("npm init -y")]),s._v(" 命令，新建一个模块化项目，然后新建 "),t("code",[s._v("index.js")]),s._v(" 文件，相关源码如下：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("content")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" content "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("replace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/kobe/gi")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Black Mamba'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_2、注册模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、注册模块"}},[s._v("#")]),s._v(" 2、注册模块")]),s._v(" "),t("p",[s._v("正常我们安装的 "),t("code",[s._v("loader")]),s._v(" 是从 "),t("code",[s._v("npm")]),s._v(" 下载安装，但是我们可以在 "),t("code",[s._v("kobe-loader")]),s._v(" 目录底下使用 "),t("code",[s._v("npm link")]),s._v(" 做到在不发布模块的情况下，将本地的一个正在开发的模块的源码链接到项目的 "),t("code",[s._v("node_modules")]),s._v(" 目录下，让项目可以直接使用本地的 "),t("code",[s._v("npm")]),s._v(" 模块。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm link\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后在项目根目录执行以下命令，将注册到全局的本地 "),t("code",[s._v("npm")]),s._v(" 模块链接到项目的 "),t("code",[s._v("node_modules")]),s._v(" 下")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ npm link kobe-loader\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注册成功后，我们可以在 "),t("code",[s._v("node_modules")]),s._v(" 目录下能查找到对应的 "),t("code",[s._v("loader")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"_3、在-webpack-中配置-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、在-webpack-中配置-loader"}},[s._v("#")]),s._v(" 3、在 webpack 中配置 loader")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("webpack.base.conf.js")]),s._v(" 加上如下配置")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/\\.js/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  loader"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kobe-loader'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("此时，我们在所有 js 文件下书写的 "),t("code",[s._v("'kobe'")]),s._v(" 就全部替换成 "),t("code",[s._v("'Black Mamba'")]),s._v("了。")]),s._v(" "),t("h3",{attrs:{id:"_4、配置参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置参数"}},[s._v("#")]),s._v(" 4、配置参数")]),s._v(" "),t("p",[s._v("上面我们是写死的替换文案，假如我想通过配置项来改变，可以在 loader 中做以下调整")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// custom-loader/index.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" utils "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'loader-utils'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("content")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" options "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" utils"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOptions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" content "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("replace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/kobe/gi")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack.base.conf.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token regex"}},[s._v("/\\.js/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  use"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    loader"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kobe-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    options"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kobe'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugin"}},[s._v("#")]),s._v(" Plugin")]),s._v(" "),t("p",[s._v("专注处理 webpack 在编译过程中的某个特定的任务的功能模块，可以称为插件。")]),s._v(" "),t("h2",{attrs:{id:"plugin-的特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugin-的特点"}},[s._v("#")]),s._v(" Plugin 的特点")]),s._v(" "),t("ul",[t("li",[s._v("是一个独立的模块")]),s._v(" "),t("li",[s._v("模块对外暴露一个 js 函数")]),s._v(" "),t("li",[s._v("函数的原型 "),t("code",[s._v("(prototype)")]),s._v(" 上定义了一个注入 "),t("code",[s._v("compiler")]),s._v(" 对象的 "),t("code",[s._v("apply")]),s._v("方法 "),t("code",[s._v("apply")]),s._v(" 函数中需要有通过 "),t("code",[s._v("compiler")]),s._v(" 对象挂载的 "),t("code",[s._v("webpack")]),s._v(" 事件钩子，钩子的回调中能拿到当前编译的 "),t("code",[s._v("compilation")]),s._v(" 对象，如果是异步编译插件的话可以拿到回调 "),t("code",[s._v("callback")])]),s._v(" "),t("li",[s._v("完成自定义子编译流程并处理 "),t("code",[s._v("complition")]),s._v(" 对象的内部数据")]),s._v(" "),t("li",[s._v("如果异步编译插件的话，数据处理完成后执行 "),t("code",[s._v("callback")]),s._v(" 回调。")])]),s._v(" "),t("h2",{attrs:{id:"常用plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用plugin"}},[s._v("#")]),s._v(" 常用Plugin")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("HotModuleReplacementPlugin")]),s._v(" 代码热替换。因为 "),t("code",[s._v("Hot-Module-Replacement")]),s._v(" 的热更新是依赖于 "),t("code",[s._v("webpack-dev-server")]),s._v("，后者是在打包文件改变时更新打包文件或者 reload 刷新整个页面，"),t("code",[s._v("HRM")]),s._v(" 是只更新修改的部分。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("HtmlWebpackPlugin")]),s._v(", 生成 html 文件。将 webpack 中"),t("code",[s._v("entry")]),s._v("配置的相关入口 chunk 和 "),t("code",[s._v("extract-text-webpack-plugin")]),s._v("抽取的 css 样式 插入到该插件提供的"),t("code",[s._v("template")]),s._v("或者"),t("code",[s._v("templateContent")]),s._v("配置项指定的内容基础上生成一个 html 文件，具体插入方式是将样式"),t("code",[s._v("link")]),s._v("插入到"),t("code",[s._v("head")]),s._v("元素中，"),t("code",[s._v("script")]),s._v("插入到"),t("code",[s._v("head")]),s._v("或者"),t("code",[s._v("body")]),s._v("中。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("ExtractTextPlugin")]),s._v(", 将 css 成生文件，而非内联 。该插件的主要是为了抽离 css 样式,防止将样式打包在 js 中引起页面样式加载错乱的现象。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("NoErrorsPlugin")]),s._v("报错但不退出 webpack 进程")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("UglifyJsPlugin")]),s._v("，代码丑化，开发过程中不建议打开。 "),t("code",[s._v("uglifyJsPlugin")]),s._v(" 用来对 js 文件进行压缩，从而减小 js 文件的大小，加速 load 速度。"),t("code",[s._v("uglifyJsPlugin")]),s._v(" 会拖慢 webpack 的编译速度，所有建议在开发简单将其关闭，部署的时候再将其打开。多个 html 共用一个 js 文件(chunk)，可用 "),t("code",[s._v("CommonsChunkPlugin")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("purifycss-webpack")]),s._v("  。打包编译时，可剔除页面和 js 中未被使用的 css，这样使用第三方的类库时，只加载被使用的类，大大减小 css 体积")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("optimize-css-assets-webpack-plugin")]),s._v("   压缩 css，优化 css 结构，利于网页加载和渲染")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("webpack-parallel-uglify-plugin")]),s._v("   可以并行运行 UglifyJS 插件，这可以有效减少构建时间")])])]),s._v(" "),t("h2",{attrs:{id:"开发一个-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发一个-plugin"}},[s._v("#")]),s._v(" 开发一个 plugin")]),s._v(" "),t("ul",[t("li",[s._v("Webpack 在编译过程中，会广播很多事件，例如 run、compile、done、fail 等等，可以查看官网；")]),s._v(" "),t("li",[s._v("Webpack 的事件流机制应用了观察者模式，我们编写的插件可以监听 Webpack 事件来触发对应的处理逻辑；")]),s._v(" "),t("li",[s._v("插件中可以使用很多 Webpack 提供的 API，例如读取输出资源、代码块、模块及依赖等；")])]),s._v(" "),t("h3",{attrs:{id:"_1、编写插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、编写插件"}},[s._v("#")]),s._v(" 1、编写插件")]),s._v(" "),t("p",[s._v("在根目录下，新建目录 my-plugin 作为我们编写插件的名称，执行 npm init -y 命令，新建一个模块化项目，然后新建 index.js 文件，相关源码如下：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyPlugin")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("doneCallback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" failCallback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 保存在创建插件实例时传入的回调函数")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("doneCallback "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" doneCallback\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("failCallback "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failCallback\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("compiler")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 成功完成一次完整的编译和输出流程时，会触发 done 事件")]),s._v("\n    compiler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("plugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'done'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("stats")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doneCallback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("stats"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在编译和输出的流程中遇到异常时，会触发 failed 事件")]),s._v("\n    compiler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("plugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'failed'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("err")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("failCallback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MyPlugin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"_2、注册模块-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、注册模块-2"}},[s._v("#")]),s._v(" 2、注册模块")]),s._v(" "),t("p",[s._v("按照以上的方法，我们在 my-plugin 目录底下使用 npm link 做到在不发布模块的情况下，将本地的一个正在开发的模块的源码链接到项目的 node_modules 目录下，让项目可以直接使用本地的 npm 模块。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm link\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后在项目根目录执行以下命令，将注册到全局的本地 npm 模块链接到项目的 node_modules 下")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ npm link my-plugin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注册成功后，我们可以在 node_modules 目录下能查找到对应的插件了。")]),s._v(" "),t("h3",{attrs:{id:"_3、配置插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置插件"}},[s._v("#")]),s._v(" 3、配置插件")]),s._v(" "),t("p",[s._v("在 webpack.base.conf.js 加上如下配置")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("plugins"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("stats")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'编译成功!'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("err")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'编译失败!'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("执行运行 or 编译命令，就能看到我们的 plugin 起作用了。")])])}),[],!1,null,null,null);a.default=e.exports}}]);