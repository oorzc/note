(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{896:function(s,a,t){"use strict";t.r(a);var n=t(5),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"å…¶ä»–ç›´æ’­ç³»ç»Ÿæ­å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–ç›´æ’­ç³»ç»Ÿæ­å»º"}},[s._v("#")]),s._v(" å…¶ä»–ç›´æ’­ç³»ç»Ÿæ­å»º")]),s._v(" "),t("blockquote",[t("p",[s._v("https://hub.docker.com/repository/docker/ar414/nginx-rtmp-ffmpeg")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.ar414.com/ar414-nginx-rtmp-ffmpeg.png",alt:"ar414-nginx-rtmp-ffmpeg"}})]),s._v(" "),t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),t("blockquote",[t("p",[s._v("æœ€è¿‘å¸®æœ‹å‹çš„å…¬å¸éƒ¨ç½²äº†ä¸€å¥—åˆ†æµ+æ°´å°çš„ç›´æ’­ç³»ç»Ÿ")]),s._v(" "),t("p",[s._v("é¡ºæ‰‹æ‰“åŒ…æˆ docker é•œåƒï¼Œæ–¹ä¾¿å¤§å®¶éœ€è¦ç”¨åˆ°çš„æ—¶å€™å¼€ç®±å³ç”¨ï¼Œä¸éœ€è¦ç™¾åº¦ä¸€äº›é›¶ç¢çš„æ–‡ç« \nä¹Ÿå¯åšç®€å•çš„ç›´æ’­æœåŠ¡ï¼Œåªéœ€è°ƒæ•´é…ç½®æ–‡ä»¶ä¾¿å¯è¾¾åˆ°ä½ çš„éœ€æ±‚.")]),s._v(" "),t("p",[s._v("éœ€æ±‚ï¼šå°†ç›´æ’­æµåˆ†æµåˆ°ä¸¤ä¸ªäº‘å‚å•†çš„ç›´æ’­äº‘ï¼Œä¸€ä¸ªæœ‰æ°´å°ï¼Œä¸€ä¸ªæ— æ°´å°ã€‚ä½¿ç”¨ hls æ’­æ”¾")]),s._v(" "),t("p",[s._v("æœ‹å‹éœ€æ±‚çš„æ‹“æ‰‘ç¤ºæ„å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.ar414.com/ar414-nginx-rtmp.png",alt:"ar414-nginx-rtmp"}})]),s._v(" "),t("p",[s._v("å½“å‰æ‹“æ‰‘ç¤ºæ„å›¾ï¼ˆé˜¿é‡Œäº‘å’Œè…¾è®¯äº‘ä¸æ–¹ä¾¿æ”¾å‡ºæ¨æµå’Œæ‹‰æµåœ°å€ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»ç”³è¯·ç©ä¸€ä¸‹ï¼‰")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.ar414.com/nginx-live-service.png?a=1",alt:"ar414-nginx-service"}})])]),s._v(" "),t("h2",{attrs:{id:"docker-nginx-rtmp-ffmpeg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-nginx-rtmp-ffmpeg"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://hub.docker.com/repository/docker/ar414/nginx-rtmp-ffmpeg",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker-nginx-rtmp-ffmpeg"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("åŸºäº"),t("a",{attrs:{href:"https://github.com/alfg/docker-nginx-rtmp",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker-nginx-rtmp"),t("OutboundLink")],1),s._v("è¿›è¡Œé…ç½®éƒ¨ç½²ï¼Œè¿™ç¯‡æ–‡ç« çš„æ„ä¹‰æ˜¯å®ç°ç›´æ’­åˆ†æµåŠç›´æ’­ç”»é¢æ°´å°.")]),s._v(" "),t("ul",[t("li",[s._v("Nginx 1.16.1ï¼ˆä»æºä»£ç ç¼–è¯‘çš„ç¨³å®šç‰ˆæœ¬ï¼‰")]),s._v(" "),t("li",[s._v("nginx-rtmp-module 1.2.1ï¼ˆä»æºä»£ç ç¼–è¯‘ï¼‰")]),s._v(" "),t("li",[s._v("ffmpeg 4.2.1ï¼ˆä»æºä»£ç ç¼–è¯‘ï¼‰")]),s._v(" "),t("li",[s._v("å·²é…ç½®å¥½çš„"),t("a",{attrs:{href:"https://github.com/ar414-com/nginx-rtmp-ffmpeg-conf/blob/master/nginx.conf",target:"_blank",rel:"noopener noreferrer"}},[s._v("nginx.conf"),t("OutboundLink")],1),s._v(" "),t("ul",[t("li",[s._v("åªæ”¯æŒ 1920*1080ï¼ˆå¦‚éœ€æ”¯æŒå…¶ä»–åˆ†è¾¨ç‡å¯å‚è€ƒ"),t("a",{attrs:{href:"https://github.com/alfg/docker-nginx-rtmp/blob/master/nginx.conf",target:"_blank",rel:"noopener noreferrer"}},[s._v("nginx.conf"),t("OutboundLink")],1),s._v("ï¼‰")]),s._v(" "),t("li",[s._v("å®ç°ä¸¤è·¯åˆ†æµ\n"),t("ul",[t("li",[s._v("æœ¬æœº")]),s._v(" "),t("li",[s._v("ç›´æ’­äº‘ï¼ˆä¾‹ï¼šé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€ucloudï¼‰")])])]),s._v(" "),t("li",[s._v("å®ç°ç›´æ’­æ°´å°æ•ˆæœ\n"),t("ul",[t("li",[s._v("æ°´å°å›¾ç‰‡å­˜æ”¾ä½ç½®ï¼ˆå®¹å™¨å†…ï¼‰ï¼š/opt/images/logo.png")])])])])])]),s._v(" "),t("h2",{attrs:{id:"éƒ¨ç½²è¿è¡Œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨ç½²è¿è¡Œ"}},[s._v("#")]),s._v(" ğŸ’»éƒ¨ç½²è¿è¡Œ")]),s._v(" "),t("h2",{attrs:{id:"æœåŠ¡å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å™¨"}},[s._v("#")]),s._v(" æœåŠ¡å™¨")]),s._v(" "),t("ul",[t("li",[s._v("å®‰è£… docker(Centos7,å…¶ä»–ç³»ç»Ÿè¯·å‘æŒ¥ä½ çš„æœç´¢åŠŸèƒ½)")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å®‰è£…docker")]),s._v("\n$ systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®å¼€æœºå¯åŠ¨")]),s._v("\n$ systemctl start docker "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¯åŠ¨dockeræœåŠ¡")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("æ‹‰å– docker é•œåƒå¹¶è¿è¡Œ")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœé€Ÿåº¦æ…¢å¯ä½¿ç”¨é˜¿é‡Œäº‘ï¼šdocker pull registry.cn-shenzhen.aliyuncs.com/ar414/nginx-rtmp-ffmpeg:v1")]),s._v("\n$ docker pull ar414/nginx-rtmp-ffmpeg\n$ docker run -it -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1935")]),s._v(":1935 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":80 --rm ar414/nginx-rtmp-ffmpeg\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("æ¨æµåœ°å€ï¼ˆStream live content toï¼‰ï¼š")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rtmp://<server ip>:1935/stream/$STREAM_NAME\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("SSL è¯ä¹¦")])]),s._v(" "),t("p",[s._v("å°†è¯ä¹¦å¤åˆ¶åˆ°å®¹å™¨å†…ï¼Œå¹¶åœ¨å®¹å™¨å†…ä¿®æ”¹ nginx.conf é…ç½®æ–‡ä»¶ï¼Œç„¶åé‡æ–° commitï¼ˆæ“ä½œå®¹å™¨å†…çš„æ–‡ä»¶éƒ½éœ€è¦é‡æ–° commit æ‰ä¼šç”Ÿæ•ˆï¼‰")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#/etc/nginx/nginx.conf\nlisten 443 ssl;\nssl_certificate     /opt/certs/example.com.crt;\nssl_certificate_key /opt/certs/example.com.key;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"obs-é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#obs-é…ç½®"}},[s._v("#")]),s._v(" OBS é…ç½®")]),s._v(" "),t("ul",[t("li",[s._v("Stream Type: "),t("code",[s._v("Custom Streaming Server")])]),s._v(" "),t("li",[s._v("URL: "),t("code",[s._v("rtmp://<server ip>:1935/stream")])]),s._v(" "),t("li",[s._v("Stream Keyï¼šar414\n"),t("img",{attrs:{src:"https://cdn.ar414.com/obs-config.png",alt:"obs-config"}})])]),s._v(" "),t("h2",{attrs:{id:"è§‚çœ‹æµ‹è¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§‚çœ‹æµ‹è¯•"}},[s._v("#")]),s._v(" è§‚çœ‹æµ‹è¯•")]),s._v(" "),t("blockquote",[t("p",[s._v("HLS æ’­æ”¾æµ‹è¯•å·¥å…·ï¼šhttp://player.alicdn.com/aliplayer/setting/setting.html ï¼ˆå¦‚æœé…ç½®äº†è¯ä¹¦åˆ™ä½¿ç”¨ httpsï¼‰")])]),s._v(" "),t("ul",[t("li",[s._v("HLS æ’­æ”¾åœ°å€\n"),t("ul",[t("li",[s._v("æœ‰æ°´å°ï¼šhttp://<server ip>:8080/hls/ar414_wm.m3u8\n"),t("img",{attrs:{src:"https://cdn.ar414.com/ar414-hls-wm.png",alt:"ar414-hls-wm"}})]),s._v(" "),t("li",[s._v("æ— æ°´å°ï¼šhttp://<server ip>:8080/hls/ar414.m3u8\n"),t("img",{attrs:{src:"https://cdn.ar414.com/ar414-hls.png",alt:"ar414-hls"}})])])])]),s._v(" "),t("blockquote",[t("p",[s._v("RTMP æµ‹è¯•å·¥å…·ï¼š"),t("a",{attrs:{href:"https://daumpotplayer.com/download/",target:"_blank",rel:"noopener noreferrer"}},[s._v("PotPlayer"),t("OutboundLink")],1)])]),s._v(" "),t("ul",[t("li",[s._v("RTMP æ’­æ”¾åœ°å€\n"),t("ul",[t("li",[s._v("æ— æ°´å°ï¼šrtmp://<server ip>:1935/stream/ar414\n"),t("img",{attrs:{src:"https://cdn.ar414.com/ar414-rtmp.png",alt:"ar414-rtmp"}})]),s._v(" "),t("li",[s._v("æœ‰æ°´å°ï¼šéœ€è¦åˆ†æµåˆ°å…¶ä»–æœåŠ¡å™¨ä¸Š")])])])]),s._v(" "),t("h2",{attrs:{id:"é…ç½®æ–‡ä»¶ç®€è§£ï¼ˆåˆ†æµã€æ°´å°åŠæ°´å°ä½ç½®ï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®æ–‡ä»¶ç®€è§£ï¼ˆåˆ†æµã€æ°´å°åŠæ°´å°ä½ç½®ï¼‰"}},[s._v("#")]),s._v(" ğŸ“„é…ç½®æ–‡ä»¶ç®€è§£ï¼ˆåˆ†æµã€æ°´å°åŠæ°´å°ä½ç½®ï¼‰")]),s._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://github.com/ar414-com/nginx-rtmp-ffmpeg-conf/blob/master/nginx.conf",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®Œæ•´é…ç½®æ–‡ä»¶"),t("OutboundLink")],1)])]),s._v(" "),t("ul",[t("li",[s._v("RTMP é…ç½®")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("rtmp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        listen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1935")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ç«¯å£")]),s._v("\n        chunk_size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#RTMP ç›´æ’­æµé…ç½®")]),s._v("\n        application stream "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            live on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ·»åŠ æ°´å°åŠåˆ†æµï¼Œè¿™æ¬¡æ–¹ä¾¿æµ‹è¯•ç›´æ¥åˆ†æµåˆ°å½“å‰æœåŠ¡å™¨hls")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å®é™…ç”Ÿäº§ä¸€èˆ¬éƒ½åˆ†æµåˆ°ç›´æ’­äº‘ï¼ˆè…¾è®¯äº‘ã€é˜¿é‡Œäº‘ã€ucloudï¼‰")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åªéœ€æŠŠéœ€è¦åˆ†æµçš„åœ°å€æ›¿æ¢å³å¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æœ‰æ°´å°ï¼šrtmp://localhost:1935/hls/$name_wm")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ— æ°´å°ï¼šrtmp://localhost:1935/hls/$name")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" ffmpeg -i rtmp://localhost:1935/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(" -i /opt/images/ar414.png\n              -filter_complex "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"overlay=10:10,split=1[ar414]"')]),s._v("\n              -map "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ar414]'")]),s._v(" -map "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":a -s 1920x1080 -c:v libx264 -c:a aac -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -tune zerolatency -preset veryfast -crf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" -f flv rtmp://localhost:1935/hls/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name_wm")]),s._v("\n              -c:a libfdk_aac -b:a 128k -c:v libx264 -b:v 2500k -f flv -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -s 1920x1080 -preset superfast -profile:v baseline rtmp://localhost:1935/hls/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        application hls "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            live on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            hls on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            hls_fragment "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            hls_path /opt/data/hls"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("ul",[t("li",[s._v("å¦‚æœéœ€è¦æ¨å¤šä¸ªç›´æ’­äº‘åˆ™å¤åˆ¶å¤šä¸ª exec ffmpeg å³å¯ å¦‚ä¸‹ï¼š")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("application stream "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    live on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ†æµè‡³æœ¬æœºhls")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" ffmpeg -i rtmp://localhost:1935/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(" -i /opt/images/ar414.png\n      -filter_complex "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"overlay=10:10,split=1[ar414]"')]),s._v("\n      -map "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ar414]'")]),s._v(" -map "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":a -s 1920x1080 -c:v libx264 -c:a aac -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -tune zerolatency -preset veryfast -crf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" -f flv rtmp://localhost:1935/hls/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name_wm")]),s._v("\n      -c:a libfdk_aac -b:a 128k -c:v libx264 -b:v 2500k -f flv -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -s 1920x1080 -preset superfast -profile:v baseline rtmp://localhost:1935/hls/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ†æµè‡³è…¾è®¯äº‘")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" ffmpeg -i rtmp://localhost:1935/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(" -i /opt/images/ar414.png\n      -filter_complex "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"overlay=10:10,split=1[ar414]"')]),s._v("\n      -map "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ar414]'")]),s._v(" -map "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":a -s 1920x1080 -c:v libx264 -c:a aac -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -tune zerolatency -preset veryfast -crf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" -f flv rtmp://live-push.tencent.com/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name_wm")]),s._v("\n      -c:a libfdk_aac -b:a 128k -c:v libx264 -b:v 2500k -f flv -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -s 1920x1080 -preset superfast -profile:v baseline rtmp://live-push.tencent.com/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ†æµè‡³é˜¿é‡Œäº‘")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" ffmpeg -i rtmp://localhost:1935/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(" -i /opt/images/ar414.png\n      -filter_complex "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"overlay=10:10,split=1[ar414]"')]),s._v("\n      -map "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ar414]'")]),s._v(" -map "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":a -s 1920x1080 -c:v libx264 -c:a aac -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -tune zerolatency -preset veryfast -crf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" -f flv rtmp://live-push.aliyun.com/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name_wm")]),s._v("\n      -c:a libfdk_aac -b:a 128k -c:v libx264 -b:v 2500k -f flv -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" -s 1920x1080 -preset superfast -profile:v baseline rtmp://live-push.aliyun.com/stream/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("ul",[t("li",[s._v("æ°´å°ä½ç½®\n"),t("ul",[t("li",[t("p",[s._v("æ°´å°ä½ç½®")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("æ°´å°å›¾ç‰‡ä½ç½®")]),s._v(" "),t("th",[s._v("overlay å€¼")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("å·¦ä¸Šè§’")]),s._v(" "),t("td",[s._v("10:10")])]),s._v(" "),t("tr",[t("td",[s._v("å³ä¸Šè§’")]),s._v(" "),t("td",[s._v("main_w-overlay_w-10:10")])]),s._v(" "),t("tr",[t("td",[s._v("å·¦ä¸‹è§’")]),s._v(" "),t("td",[s._v("10:main_h-overlay_h-10")])]),s._v(" "),t("tr",[t("td",[s._v("å³ä¸‹è§’")]),s._v(" "),t("td",[s._v("main_w-overlay_w-10 : main_h-overlay_h-10")])])])])]),s._v(" "),t("li",[t("p",[s._v("overlay å‚æ•°")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("å‚æ•°")]),s._v(" "),t("th",[s._v("è¯´æ˜")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("main_w")]),s._v(" "),t("td",[s._v("è§†é¢‘å•å¸§å›¾åƒå®½åº¦ï¼ˆå½“å‰é…ç½®æ–‡ä»¶ 1920ï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("main_h")]),s._v(" "),t("td",[s._v("è§†é¢‘å•å¸§å›¾åƒé«˜åº¦ï¼ˆå½“å‰é…ç½®æ–‡ä»¶ 1080ï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("overlay_w")]),s._v(" "),t("td",[s._v("æ°´å°å›¾ç‰‡çš„å®½åº¦")])]),s._v(" "),t("tr",[t("td",[s._v("overlay_h")]),s._v(" "),t("td",[s._v("æ°´å°å›¾ç‰‡çš„é«˜åº¦")])])])])])])])]),s._v(" "),t("h2",{attrs:{id:"nginx-é…ç½®ç¤ºä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-é…ç½®ç¤ºä¾‹"}},[s._v("#")]),s._v(" nginx é…ç½®ç¤ºä¾‹")]),s._v(" "),t("div",{staticClass:"language-nginx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-nginx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("daemon")]),s._v(" off"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("error_log")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stdout info"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("events")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("worker_connections")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nrtmp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1935")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        chunk_size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        application stream "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            live on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            exec ffmpeg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i rtmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1935")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stream"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("opt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("images"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ar414"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("png\n              "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("filter_complex "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"overlay=10:10,split=1[ar414]"')]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("map")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[ar414]'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("map")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1920")]),s._v("x1080 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v libx264 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("a aac "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("tune zerolatency "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("preset veryfast "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("crf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("flv")]),s._v(" rtmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1935")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hls"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name_wm")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("a libfdk_aac "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("k "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v libx264 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2500")]),s._v("k "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("flv")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1920")]),s._v("x1080 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("preset superfast "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v baseline rtmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1935")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hls"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        application hls "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            live on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            hls on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            hls_fragment "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            hls_path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("opt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hls"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("access_log")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stdout combined"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_ciphers")]),s._v("         HIGH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("aNULL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("MD5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_protocols")]),s._v("       TLSv1 TLSv1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" TLSv1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_session_cache")]),s._v("   shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SSL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_session_timeout")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Uncomment these lines to enable SSL.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Update the ssl paths with your own certificate and private key.")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# listen 443 ssl;")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssl_certificate     /opt/certs/example.com.crt;")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssl_certificate_key /opt/certs/example.com.key;")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hls "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("types")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                application"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("vnd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apple"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mpegurl m3u8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                video"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mp2t ts"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("opt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Cache"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control no"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Access"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Origin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("live "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alias")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("opt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hls"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("types")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              application"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("vnd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apple"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mpegurl m3u8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n              video"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mp2t ts"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Cache"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control no"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Access"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Origin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stat "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            rtmp_stat all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            rtmp_stat_stylesheet static"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xsl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("static "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alias")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("static"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("crossdomain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xml "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("static"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default_type")]),s._v(" text"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("expires")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);