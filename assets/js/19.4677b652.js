(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{756:function(t,s,a){"use strict";a.r(s);var r=a(5),n=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"gradle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle"}},[t._v("#")]),t._v(" gradle")]),t._v(" "),a("p",[t._v("插件版本、gradle 版本 和 buildToolsVersion 之间的对应关系")]),t._v(" "),a("h2",{attrs:{id:"一、主要概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、主要概念"}},[t._v("#")]),t._v(" 一、主要概念")]),t._v(" "),a("h3",{attrs:{id:"_1、gradle-是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、gradle-是什么？"}},[t._v("#")]),t._v(" 1、Gradle 是什么？")]),t._v(" "),a("p",[t._v("Gradle 其实就是一个构建项目的工具，即把一堆堆的目录、文件按照一定的规则关联起来，形成一个项目的自动化构建工具。")]),t._v(" "),a("h4",{attrs:{id:"gradle-版本-如-gradle-4-10-1-all-zip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle-版本-如-gradle-4-10-1-all-zip"}},[t._v("#")]),t._v(" Gradle 版本,如 gradle-4.10.1-all.zip")]),t._v(" "),a("p",[t._v("位置:项目主目录 gradle 文件夹->wrapper->gradle-wrapper.properties")]),t._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("distributionBase"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("GRADLE_USER_HOME\ndistributionPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("wrapper"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dists\nzipStoreBase"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("GRADLE_USER_HOME\nzipStorePath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("wrapper"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dists\ndistributionUrl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https\\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string regex"}},[t._v("//")]),t._v("services"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token string regex"}},[t._v("/distributions/")]),t._v("gradle"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"_2、gradle-插件又是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、gradle-插件又是什么？"}},[t._v("#")]),t._v(" 2、Gradle 插件又是什么？")]),t._v(" "),a("p",[t._v("Gradle 插件是针对 Gradle 发行版和 Android SDK Build Tools 封装的一个工具，主要有两大功能：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("调用 Gradle 本身的代码和批处理工具来构建项目")])]),t._v(" "),a("li",[a("p",[t._v("调用 Android SDK 的编译、打包功能")])])]),t._v(" "),a("h4",{attrs:{id:"gradle-插件版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle-插件版本"}},[t._v("#")]),t._v(" Gradle 插件版本")]),t._v(" "),a("p",[t._v("项目主目录下的 build.gradle 中，如“com.android.tools.build:gradle:3.3.0”")]),t._v(" "),a("p",[t._v("Gradle 插件会有版本号(3.3.0)，每个版本号又对应有一个或一些 Gradle 发行版本（一般是限定一个最低版本,如 gradle-4.1-all.zip）")]),t._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("dependencies "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    classpath "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.android.tools.build:gradle:3.3.0'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//        classpath 'com.android.tools.build:gradle:2.3.3'")]),t._v("\n    classpath "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"com.google.protobuf:protobuf-gradle-plugin:0.8.6"')]),t._v("\n    classpath "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"org.jetbrains.kotlin:kotlin-gradle-plugin:'),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),t._v("kotlin_version")]),t._v('"')]),t._v("\n    classpath "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"org.jetbrains.kotlin:kotlin-android-extensions:'),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),t._v("kotlin_version")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"_3、-android-sdk-build-tools-version：android-sdk-构建工具版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-android-sdk-build-tools-version：android-sdk-构建工具版本"}},[t._v("#")]),t._v(" 3、 Android SDK Build Tools Version：Android SDK 构建工具版本")]),t._v(" "),a("p",[t._v("buildToolsVersion 位置:app 目录->buid.gradle 文件")]),t._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("android "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compileSdkVersion rootProject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compileSdkVersion\n    buildToolsVersion rootProject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buildToolsVersion\n    defaultConfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        applicationId "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"com.sogou.teemo.translate.launcher"')]),t._v("\n        minSdkVersion rootProject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minSdkVersion\n        targetSdkVersion rootProject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minSdkVersion\n        versionCode "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v("\n        versionName "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"1.4.8.'),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("releaseTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//        jackOptions {//            enabled false//        }")]),t._v("\n        multiDexEnabled "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使能multDex")]),t._v("\n\n        ndk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            abiFilters "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'armeabi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'armeabi-v7a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'arm64-v8a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h2",{attrs:{id:"二、依赖关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、依赖关系"}},[t._v("#")]),t._v(" 二、依赖关系")]),t._v(" "),a("h3",{attrs:{id:"明确概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#明确概念"}},[t._v("#")]),t._v(" 明确概念:")]),t._v(" "),a("p",[t._v("Gradle Plugin Version: Gradle 插件版本")]),t._v(" "),a("p",[t._v("Gradle Version: Gradle 发行版本")]),t._v(" "),a("p",[t._v("Android SDK Build Tools Version：Android SDK 构建工具版本")]),t._v(" "),a("h3",{attrs:{id:"三者依赖关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三者依赖关系"}},[t._v("#")]),t._v(" 三者依赖关系")]),t._v(" "),a("ol",[a("li",[t._v("Gradle Plugin 有不同的版本号。 即我们常见的：classpath 'com.android.tools.build:gradle:3.0.1'】，")])]),t._v(" "),a("p",[t._v("每个插件版本号又对应一个或一些 Gradle 发行版本【即我们常见的：gradle-4.1-all.zip】")]),t._v(" "),a("p",[t._v("如果这两个版本对应不上了，那么构建项目的时候就会报错。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Gradle Plugin 还和 Android SDK BuildTool 有关联,因为它还负责和编译相关的功能，这也是为何我们要在 build.gradle 里注明 buildToolsVersion 的原因。")])]),t._v(" "),a("p",[t._v("三者对应关系如下表:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("插件版本")]),t._v(" "),a("th",[t._v("所需的 Gradle 版本")]),t._v(" "),a("th",[t._v("Required Gradle version")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1.0.0 - 1.1.3")]),t._v(" "),a("td",[t._v("2.2.1 - 2.3")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("1.2.0 - 1.3.1")]),t._v(" "),a("td",[t._v("2.2.1 - 2.9")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("1.5.0")]),t._v(" "),a("td",[t._v("2.2.1 - 2.13")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2.0.0 - 2.1.2")]),t._v(" "),a("td",[t._v("2.10 - 2.13")]),t._v(" "),a("td",[t._v("21.1.1+")])]),t._v(" "),a("tr",[a("td",[t._v("2.1.3 - 2.2.3")]),t._v(" "),a("td",[t._v("2.14.1+")]),t._v(" "),a("td",[t._v("23.0.2+")])]),t._v(" "),a("tr",[a("td",[t._v("2.3.0+")]),t._v(" "),a("td",[t._v("3.3+")]),t._v(" "),a("td",[t._v("25.0.0+")])]),t._v(" "),a("tr",[a("td",[t._v("2.3.0+")]),t._v(" "),a("td",[t._v("3.3+")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("3.0.0+")]),t._v(" "),a("td",[t._v("4.1+")]),t._v(" "),a("td",[t._v("26.0.2+ 不再需要为构建工具指定版本 - 插件默认使用最低要求的版本。可以删除该 android.buildToolsVersion 属性")])]),t._v(" "),a("tr",[a("td",[t._v("3.1.0+")]),t._v(" "),a("td",[t._v("4.4+")]),t._v(" "),a("td",[t._v("27.0.3+ 不再需要为构建工具指定版本 - 插件默认使用最低要求的版本。可以删除该 android.buildToolsVersion 属性")])]),t._v(" "),a("tr",[a("td",[t._v("3.2.0 - 3.2.1")]),t._v(" "),a("td",[t._v("4.6+")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("3.3.0 - 3.3.2")]),t._v(" "),a("td",[t._v("4.10.1+")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("3.4.0+")]),t._v(" "),a("td",[t._v("5.1.1+")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("3.5.0 - 3.5.4")]),t._v(" "),a("td",[t._v("5.4.1+")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("3.6.0 - 3.6.4")]),t._v(" "),a("td",[t._v("5.6.4+")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("4.0.0+")]),t._v(" "),a("td",[t._v("6.1.1+")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("4.1.0+")]),t._v(" "),a("td",[t._v("6.5+")]),t._v(" "),a("td")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);